## Git基础知识

>初始化一个Git仓库

	$ git init
>添加文件到Git仓库

	$ git add <file>
	//注意，可反复多次使用，添加多个文件
    $ git commit -m "wrote a file"

>查看工作区的状态

	$ git status
>查看修改内容

	$ git diff
>查看指定文件工作区和版本库里面最新版本的区别

	$ git diff HEAD -- <file>
>查看历史记录
	
	$ git log
或

	$ git log --pretty=oneline
	3628164fb26d48395383f8f31179f24e0882e1e0 append GPL
	ea34578d5496d7dd233c827ed32a8cd576c5ee85 add distributed
	cb926e7ea50ad11b8f9e909c05226233bf755030 wrote a readme file
	//3628164...882e1e0的是commit id（版本号）

>版本回退

	$ git reset --hard HEAD^
	//上一个版本就是HEAD^，上上一个版本就是HEAD^^，
	//往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。
通过`commit id`指定回到未来的某个版本：

	$ git reset --hard 3628164
>查看命令历史

	$ git reflog
>直接丢弃工作区的修改

	$ git checkout -- <file>
	//这里有两种情况：
	//一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；
	//一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。
	//总之，就是让这个文件回到最近一次git commit或git add时的状态。

>把暂存区的修改回退到工作区

	$ git reset HEAD <file>
>从版本库删除文件
	
	$ git rm <file>
	$ git commit -m "remove file"

	

### 用户名和邮箱地址的作用
	用户名和邮箱地址是本地git客户端的一个变量，不随git库而改变。
	每次commit都会用用户名和邮箱纪录。
	github的contributions统计就是按邮箱来统计的。
### 查看用户名和邮箱地址：
	$ git config user.name
	
	$ git config user.email
### 修改用户名和邮箱地址：
	$ git config --global user.name "username"
	
	$ git config --global user.email "email"
## 远程仓库
- 创建SSH Key。在用户主目录下，看看有没有.ssh目录，如果有，再看看这个目录下有没有id_rsa和id_rsa.pub这两个文件，如果已经有了，可直接跳到下一步。如果没有，打开Shell（Windows下打开Git Bash），创建SSH Key：
`ssh-keygen -t rsa -C "youremail@example.com"`
- 你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个Key也不是用于军事目的，所以也无需设置密码
- 如果一切顺利的话，可以在用户主目录里找到.ssh目录，里面有id_rsa和id_rsa.pub两个文件，这两个就是SSH Key的秘钥对，id_rsa是私钥，不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人
- 登陆GitHub，打开“settings”，“SSH and GPG Keys”页面,然后点“Add SSH Key”，填上任意Title，在Key文本框里粘贴id_rsa.pub文件的内容,点“Add Key”，你就应该看到已经添加的Key
- 验证与github连接是否成功
`ssh -T git@github.com`
- 查看具体信息
`ssh -T -v git@github.com`
## 添加远程库
- 点击"New repository"按钮，创建一个新的仓库
- 在Repository name填入learngit，其他保持默认设置，点击"Create repository"按钮，就成功地创建了一个新的Git仓库
- 目前，在GitHub上的这个learngit仓库还是空的
- 创建本地仓库，然后，把本地仓库的内容推送到GitHub仓库
```
echo "# learngit" >> README.md
git init
git add README.md
git commit -m "first commit"
git remote add origin git@github.com:GaoGu/learngit.git
git push -u origin master
```
- 把本地库的内容推送到远程，用git push命令，实际上是把当前分支master推送到远程。
- 由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。
- 从现在起，只要本地作了提交，就可以通过命令：
`git push origin master`
# 从远程库克隆
- 创建仓库时，勾选`Initialize this repository with a README`，这样GitHub会自动为我们创建一个README.md文件。
- 现在，远程库已经准备好了，下一步是用命令git clone克隆一个本地库：
`git clone git@github.com:GaoGu/gitskills.git`
